package com.swh.project;

import java.io.IOException;
import java.net.ServerSocket;
import java.net.Socket;

/**
 * <pre>
 * kr.co.swh.lecture.network.filetrans 
 * FileReceiveServer.java
 *
 * 설명 :파일 전송 서버
 * </pre>
 * 
 * @since : 2018. 12. 28.
 * @author : tobby48
 * @version : v1.0
 */
public class FileReceiveTCP{
	
	public FileReceiveTCP() {
		// TODO Auto-generated constructor stub
		System.out.println("Tcp Receiver 호출");
	}
	
	public static void main(String[] args) {

		ServerSocket serverSocket = null;
		Socket socket = null;
		System.out.println("1");
		try {
			// 리스너 소켓 생성 후 대기
			serverSocket = new ServerSocket(8081); // socket(),bind();
			System.out.println("2");
			// 연결되면 통신용 소켓 생성           
			socket = serverSocket.accept(); // listen(),accept();
			long start = System.currentTimeMillis();
			System.out.println("3");
			// 파일 수신 작업 시작
//			FileReceiver f = new FileReceiverH(socket, start); //class
			FileReceiver fr = new FileReceiverN(socket, start); //byte array
			System.out.println("4");
			fr.start();
		} catch (IOException e) {
			e.printStackTrace();
		}
	}

	/*
	@Override
	public void receive() {

		ServerSocket serverSocket = null;
		Socket socket = null;
		System.out.println("1");
		try {
			// 리스너 소켓 생성 후 대기
			serverSocket = new ServerSocket(8081); // socket(),bind();
			System.out.println("2");
			// 연결되면 통신용 소켓 생성           
			socket = serverSocket.accept(); // listen(),accept();
			long start = System.currentTimeMillis();
			System.out.println("3");
			// 파일 수신 작업 시작
//			FileReceiver f = new FileReceiverH(socket, start); //class
			FileReceiver fr = new FileReceiverN(socket, start); //byte array
			System.out.println("4");
			fr.start();
		} catch (IOException e) {
			e.printStackTrace();
		}
	} */
}
